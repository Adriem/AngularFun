// Generated by CoffeeScript 1.3.3
/*global require
*/

/*
https://github.com/jrburke/requirejs/tree/dev2.0
https://github.com/jrburke/requirejs/wiki/Requirejs-2.0-draft
*/

require({
  shim: {
    'libs/angular': {
      deps: ['libs/modernizr'],
      exports: 'angular'
    },
    'libs/angular-resource': ['libs/angular'],
    'libs/modernizr': {
      exports: 'Modernizr'
    }
  }
}, ['app', 'bootstrap', 'controllers/gitHub', 'controllers/people', 'controllers/searchHistory', 'controllers/twitter', 'directives/tabs', 'directives/tab', 'filters/twitterfy', 'libs/angular', 'responseInterceptors/dispatcher'], function(app) {
  'use strict';
  app.config([
    '$routeProvider', function($routeProvider) {
      return $routeProvider.when('/twitter/:searchTerm', {
        controller: 'twitter',
        reloadOnSearch: true
      }).when('/github/:searchTerm', {
        controller: 'gitHub',
        reloadOnSearch: true
      }).otherwise({
        redirectTo: '/twitter/@CaryLandholt'
      });
    }
  ]);
  return app.run([
    '$rootScope', function($rootScope) {
      $rootScope.$on('error:unauthorized', function(event, response) {});
      $rootScope.$on('success:ok', function(event, response) {});
      return $rootScope.$on('$afterRouteChange', function(event, currentRoute, priorRoute) {
        return $rootScope.$emit("" + currentRoute.controller + "$afterRouteChange", currentRoute, priorRoute);
      });
    }
  ]);
});
