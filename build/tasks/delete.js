// Generated by CoffeeScript 1.3.3

/*global module, require
*/


(function() {

  module.exports = function(grunt) {
    var deleteDirectory, deleteFiles, fs, isDirectory, rimraf;
    fs = require('fs');
    rimraf = require('rimraf');
    deleteDirectory = function(dest) {
      return rimraf.sync(dest);
    };
    deleteFiles = function(dest) {
      var files;
      files = grunt.file.expandFiles(dest);
      return files.forEach(function(file) {
        return fs.unlinkSync(file);
      });
    };
    isDirectory = function(dest) {
      var isDestADirectory, stats;
      isDestADirectory = true;
      try {
        stats = fs.statSync(dest);
      } catch (error) {
        isDestADirectory = false;
      }
      return isDestADirectory;
    };
    return grunt.registerMultiTask('delete', 'Deletes a directory', function() {
      var dest, isDestADirectory;
      dest = this.file.dest;
      isDestADirectory = isDirectory(dest);
      if (isDestADirectory) {
        return deleteDirectory(dest);
      } else {
        return deleteFiles(dest);
      }
    });
  };

}).call(this);
